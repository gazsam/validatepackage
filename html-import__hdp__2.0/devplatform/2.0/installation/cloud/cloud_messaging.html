


<html><head><title>HPE Helion 2.0 Development Platform: Messaging Broker Service Configuration</title> <meta name="html-import-package-key" content="hdp"/> <meta name="html-import-package-version" content="2.0" /><meta name="html-import-topic-id" content="cloudMessaging" /> <meta name="html-import-file-path" content="devplatform/2.0/installation/cloud/cloud_messaging.html" /></head>

          

          

<body><h1 id="pagetitle">HPE Helion 2.0 Development Platform: Messaging Broker Service Configuration</h1>


  

  <div class="body">
    
    <div class="section">This additional section of the clouds.yaml file is required only if the Messaging
      Broker Service is installed.
      <pre class="pre codeblock">clouds:
  mycloud:
  ... 
    messaging:
      deployer_cloud: "msgaas"
      deployer_ntp_servers: NTP servers, can be the same as the one used by HOS
      deployer_dns_servers: DNS servers, can be the same as the one used by HOS
      ##### These settings are optional. If you are not providing a value for them, delete them entirely. Do not leave blank.
      deployer_key: msgaas-key
      deployer_flavor: 3
      deployer_name: msgaas_deployer_01   
      deployer_security_group: default
      deployer_image: hlinux_msgaas
      deployer_ext_net_id: ext-net
      deployer_cname: CN name used to generate the certificate file.   
      #####          
  ...
  msgaas:
    image_api_version: '1'
    identity_api_version: '2'
    region_name: region1
    insecure: True
    auth:
      auth_url: http://##.##.##.##:####/v3
      project_name: 
      username: 
      password: 
      project_domain_name: default
      user_domain_name: default              </pre>
</div>
<div class="section"><h2 class="title sectiontitle">Service Configuration Parameters for the HDPI Installer</h2><dl class="dl">
        
          <dt class="dt dlterm">deployer_cloud</dt>

          <dd class="dd">The cloud identified in the clouds.yaml where the deployer will be created. Note that
            while the deployer creation must be performed by an admin, the deployer itself may be
            owned by someone else. Value must be "msgaas"</dd>

        
        
          <dt class="dt dlterm">deployer_ntp_servers</dt>

          <dd class="dd">NTP servers, provided as a list. Can be the same as the one used by HPE Helion
            OpenStack </dd>

        
        
          <dt class="dt dlterm">deployer_dns_servers</dt>

          <dd class="dd">DNS servers, provided as a list. Can be the same as the one used by HPE Helion
            OpenStack </dd>

        
        
          <dt class="dt dlterm">deployer_key (optional)</dt>

          <dd class="dd">The keypair to use to SSH into the deployer instance. Default value:
              <em class="ph i">project_name</em>. If the keypair does not exist in Nova, it would get created using
            the default user SSH public key.</dd>

        
        
          <dt class="dt dlterm">deployer_flavor (optional)</dt>

          <dd class="dd">The flavor ID to use for the deployer instance. Default value: 4 (which is Large).
            Recommended flavor: 3 (Medium)</dd>

        
        
          <dt class="dt dlterm">deployer_name (optional)</dt>

          <dd class="dd">The name of the deployer instance. Default value:
              <em class="ph i">service</em>_deployer_<em class="ph i">version</em></dd>

        
        
          <dt class="dt dlterm">deployer_security_group (optional)</dt>

          <dd class="dd">The name of the security group for the deployer. Default value: default</dd>

        
        
          <dt class="dt dlterm">deployer_image (optional)</dt>

          <dd class="dd">The image to use for the deployer. It will attempt to find an image with the prefix
              <em class="ph i">helionci</em> or <em class="ph i">msgaas</em> and containing the word <em class="ph i">hlinux</em>.</dd>

        
        
          <dt class="dt dlterm">deployer_ext_net_id (optional)</dt>

          <dd class="dd">The external network name. Default value: ext-net <div class="note note"><span class="notetitle">Note:</span> This must be specified in the
              configuration file, but the value is not currently read- only the default is
              used.</div>
</dd>

        
        
          <dt class="dt dlterm">deployer_cname (optional)</dt>

          <dd class="dd">CN name used to generate the certificate file.</dd>

        </dl>

      </div>

      <div class="section"><h2 class="title sectiontitle">Cloud Configuration Parameters for the Messaging Installer</h2>
        <dl class="dl">
        
          <dt class="dt dlterm"> image_api_version(optional)</dt>

          <dd class="dd">The image API version to use. The default value is 1. </dd>

        
        
          <dt class="dt dlterm"> identity_api_version (optional)</dt>

          <dd class="dd">The keystone API version to use. The default value is 2.</dd>

        
        
          <dt class="dt dlterm">region_name (optional)</dt>

          <dd class="dd">The region name to use. The default value is region1</dd>

        
        
          <dt class="dt dlterm">insecure (optional)</dt>

          <dd class="dd">This flag will automatically accept an internally signed cert without prompting the
            user when connecting to the HPE Helion OpenStack services. Default value: True</dd>

        
        
          <dt class="dt dlterm">auth_url</dt>

          <dd class="dd">This URL can be found in Horizon at: Project &gt; Compute &gt; Access &amp; Security
            &gt; API Access. Copy the Service Endpoint URL for the Identity Service. This must be
            the <strong class="ph b">internal</strong>, not the <em class="ph i">admin</em> or <em class="ph i">public</em> endpoints. If the default
            endpoint value ends in <samp class="ph codeph">/v2</samp>, change it to <samp class="ph codeph">/v3</samp> .</dd>

        
        
          <dt class="dt dlterm">project_name</dt>

          <dd class="dd">This project will be created by the HDPI service installation process. This project
            must NOT exist prior to installing the Messaging Broker Service.</dd>

        
        
          <dt class="dt dlterm">username</dt>

          <dd class="dd">This user will be created by the HDPI service installation process. This project must
            NOT exist prior to installing the Messaging Broker Service.</dd>

        
        
          <dt class="dt dlterm">password</dt>

          <dd class="dd">The Password for the same account with installation privileges (administrator
            role).</dd>

        
        
          <dt class="dt dlterm">project_domain_name: default</dt>

          <dd class="dd">Unless changes are required for your environment, accept the default value.</dd>

        
        
          <dt class="dt dlterm">user_domain_name: default </dt>

          <dd class="dd">Unless changes are required for your environment, accept the default value.</dd>

        
      </dl>

    </div>

  </div>


</body>
</html>