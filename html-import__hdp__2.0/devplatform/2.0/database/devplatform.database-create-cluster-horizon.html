


<html><head><title>Creating a database cluster from Horizon</title> <meta name="html-import-package-key" content="hdp"/> <meta name="html-import-package-version" content="2.0" /><meta name="html-import-topic-id" content="topic_database_create_cluster_horizon" /> <meta name="html-import-file-path" content="devplatform/2.0/database/devplatform.database-create-cluster-horizon.html" /></head>

          

          

<body><h1 id="pagetitle">Creating a database cluster from Horizon</h1>


  

  <div class="body">
    <p class="p">This document describes how to create a database cluster from the Horizon interface.</p>

    <ol class="ol">
      <li class="li">Log into the Horizon web interface. Select <strong class="ph b">Project</strong>, <strong class="ph b">Database</strong>, <strong class="ph b">Clusters</strong>. Click <strong class="ph b">Launch Cluster</strong>.
        <br/><img class="image" src="../../../media/dbaas_clusters_1.PNG"/><br/></li>

      <li class="li">In the <strong class="ph b">Launch Cluster</strong> page, enter the following information and click <strong class="ph b">Launch
          Cluster</strong>: <ul class="ul">
          <li class="li"><strong class="ph b">Cluster Name</strong>: The name of the cluster to be created. The cluster ID will be
            generated automatically.</li>

          <li class="li"><strong class="ph b">Datastore</strong>: The database type to be used. MySql, Vertica Preview, Redis and
            MongoDB are supported.</li>

          <li class="li"><strong class="ph b">Flavor</strong>: The instance flavor (virtual hardware template) to use for the
            cluster.</li>

          <li class="li"><strong class="ph b">Network</strong>: The OpenStack network to attach to the cluster.</li>

          <li class="li"><strong class="ph b">Volume Size</strong>: The size in GB of the new cluster. <div class="note note"><span class="notetitle">Note:</span> Databases require a
              minimum volume size of 5, with a recommended size of 10.</div>
</li>

          <li class="li"><strong class="ph b">Number of Shards</strong> (MongoDB only): The number of MongoDB shards to span the
            database across. One shard will be used to create the database cluster; this value
            cannot be changed. See <a class="xref" href="http://docs.mongodb.org/manual/sharding/" target="_blank">Sharding</a> for more
            information.</li>

          <li class="li"><strong class="ph b">Number of Instances</strong>: The number of OpenStack instances to span the database
            across. Three instances will be used to create the cluster; this value cannot be
            changed, but more instances can be added later.</li>

          <li class="li">
            <div class="note note"><span class="notetitle">Note:</span> The number of instances and shards is not editable.</div>

          </li>

        </ul>

        <div class="note note"><span class="notetitle">Note:</span> When a database cluster is created from the Horizon interface, the instances are
          created with random Availability Zones (AZ) across the available zones. To specify AZs for
          specific instances, you must create the database cluster using the command line. See <a class="xref" href="devplatform.database-create-cluster-cli.html#topic_database_create_cluster_cli">Creating a database cluster from the command line</a> for more details.</div>

        <br/><img class="image" src="../../../media/dbaas_clusters_1.PNG"/><br/></li>

      <li class="li">The new cluster will be created, and appear in the Clusters page. Once it is done creating, the status will display as
        <strong class="ph b">None</strong>, indicating that the cluster is finished provisioning. Click on the name of the cluster to see details of the cluster and the status of the cluster.
      </li>

    </ol>

    <div class="note note"><span class="notetitle">Note:</span> 
      <p class="p">As part of Vertica cluster creation, the Database Service generates SSH keys for instances on the vertica cluster that allow 
        the cluster setup script to connect to all the instances and run cluster setup commands. These keys are protected on the guest 
        instances as they are locked down by file ACLs allowing access only to the vertica processes. After the cluster create process is 
        finished, these keys are deleted from all of the nodes. </p>

      <p class="p">These auto-generated keys are different from the Administrator SSH key that will allow the Database Service administrator to connect to
        the VM for day-to-day service management and operations, and to upgrade the trove guest instances. The Adminsitrator SSH
        key is kept intact during the Cluster Create process. These keys should be secured by ACLs, as exposure of them could result in compromise 
        of the database service and databases.</p>

    </div>

  </div>


</body>
</html>